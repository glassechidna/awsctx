// Code generated by internal/generate/main.go. DO NOT EDIT.

package apigatewaymanagementapictx

import (
	"context"
	"github.com/aws/aws-sdk-go/aws/request"
	"github.com/aws/aws-sdk-go/service/apigatewaymanagementapi"
	"github.com/aws/aws-sdk-go/service/apigatewaymanagementapi/apigatewaymanagementapiiface"
	"github.com/glassechidna/awsctx"
)

type ApiGatewayManagementApi interface {
	DeleteConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.DeleteConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.DeleteConnectionOutput, error)
	GetConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.GetConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.GetConnectionOutput, error)
	PostToConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.PostToConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.PostToConnectionOutput, error)
}

type Client struct {
	apigatewaymanagementapiiface.ApiGatewayManagementApiAPI
	Contexter awsctx.Contexter
}

func New(base apigatewaymanagementapiiface.ApiGatewayManagementApiAPI, ctxer awsctx.Contexter) ApiGatewayManagementApi {
	return &Client{
		ApiGatewayManagementApiAPI: base,
		Contexter: ctxer,
	}
}

var _ ApiGatewayManagementApi = (*apigatewaymanagementapi.ApiGatewayManagementApi)(nil)
var _ ApiGatewayManagementApi = (*Client)(nil)

func (c *Client) DeleteConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.DeleteConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.DeleteConnectionOutput, error) {
	req := &awsctx.AwsRequest{
		Service: "apigatewaymanagementapi",
		Action:  "DeleteConnection",
		Input:   input,
		Output:  (*apigatewaymanagementapi.DeleteConnectionOutput)(nil),
		Error:   nil,
	}

	ctxer := c.Contexter
	if ctxer == nil {
		ctxer = awsctx.NoopContexter
	}

	ctxer.WrapContext(ctx, req, func(ctx context.Context) {
		req.Output, req.Error = c.ApiGatewayManagementApiAPI.DeleteConnectionWithContext(ctx, input, opts...)
	})

	return req.Output.(*apigatewaymanagementapi.DeleteConnectionOutput), req.Error
}

func (c *Client) GetConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.GetConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.GetConnectionOutput, error) {
	req := &awsctx.AwsRequest{
		Service: "apigatewaymanagementapi",
		Action:  "GetConnection",
		Input:   input,
		Output:  (*apigatewaymanagementapi.GetConnectionOutput)(nil),
		Error:   nil,
	}

	ctxer := c.Contexter
	if ctxer == nil {
		ctxer = awsctx.NoopContexter
	}

	ctxer.WrapContext(ctx, req, func(ctx context.Context) {
		req.Output, req.Error = c.ApiGatewayManagementApiAPI.GetConnectionWithContext(ctx, input, opts...)
	})

	return req.Output.(*apigatewaymanagementapi.GetConnectionOutput), req.Error
}

func (c *Client) PostToConnectionWithContext(ctx context.Context, input *apigatewaymanagementapi.PostToConnectionInput, opts ...request.Option) (*apigatewaymanagementapi.PostToConnectionOutput, error) {
	req := &awsctx.AwsRequest{
		Service: "apigatewaymanagementapi",
		Action:  "PostToConnection",
		Input:   input,
		Output:  (*apigatewaymanagementapi.PostToConnectionOutput)(nil),
		Error:   nil,
	}

	ctxer := c.Contexter
	if ctxer == nil {
		ctxer = awsctx.NoopContexter
	}

	ctxer.WrapContext(ctx, req, func(ctx context.Context) {
		req.Output, req.Error = c.ApiGatewayManagementApiAPI.PostToConnectionWithContext(ctx, input, opts...)
	})

	return req.Output.(*apigatewaymanagementapi.PostToConnectionOutput), req.Error
}
